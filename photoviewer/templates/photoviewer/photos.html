{% load static %}<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" charset="utf-8">
    <title>My Photos</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins|Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'photoviewer/photos.css' %}">
  </head>
  <body>
    <div id="app">
      {% include 'navbar.html' %}
      <div id="img-container">
        <div id="img-carousel"></div>
        <div id="filmstrip">
          <filmstrip-thumbnail 
            v-for="im in images"
            v-bind:im="im"
            v-bind:key="im.id"
          ></filmstrip-thumbnail>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="{% static 'photoviewer/openseadragon-bin-2.4.0/openseadragon.min.js' %}"></script>
    <script>
      Vue.options.delimiters = ['{V', 'V}']; // standalone only

      Vue.component('filmstrip-thumbnail', {
        props: ['im'],
        template: " \
          <div class='filmstrip-thumbnail'> \
            <img :src='im.source' :alt='im.alttext' /> \
          </div>"
      })

      var imgs_list = {{ imgs_list | safe }};
      imgs_list.forEach((currentValue, index, list) => {
        list[index] = {
          id: index,
          source: currentValue
        }
      })
      
      var filmstrip = new Vue({
        el: '#filmstrip',
        data: {
          images: imgs_list
        }
      });

      var imgCarousel = new Vue({
        el: '#img-carousel',
        data: {
          src: filmstrip.images[0].source
        }
      });

      var viewer = OpenSeadragon({
        id: 'img-carousel',
        prefixUrl: "{% static 'photoviewer/openseadragon-bin-2.4.0/images/' %}",
        tileSources: {
          type: 'image',
          url: imgCarousel.src
        }
      });
    </script>
  </body>

</html>